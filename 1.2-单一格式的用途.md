## 1.2 单一格式的用途

传统方面，关系数据库以行或列格式存储数据。 内存和磁盘也以相同的格式存储数据。

Oracle数据库在数据块中连续存储行。 例如，在具有三行的表中，Oracle数据块先存储第一行，然后存储第二行，然后存储第三行。 每行包含该行的所有列值。 以行格式存储的数据，针对事务处理进行了优化。 例如，更新少量行中的所有列可以仅修改少量的块。

为了解决与分析查询相关的问题，一些数据库供应商引入了列格式。 列式数据库存储选定的列，而不是行连续。 例如，在大型销售表中，销售ID位于一列中，销售区域位于不同的列中。

分析工作负载在扫描时访问几个列，但他也要扫描整个数据集。 因此，列格式对于分析最有效。 由于列是单独存储的，因此分析查询只能访问所需的列，并避免读取不必要的数据。 例如，按地区划分的销售总额报告只需访问几个列就可以快速处理许多行。

数据库供应商通常强制客户在列式和基于行的格式之间进行选择。 例如，如果数据格式为纵向的，则数据库将数据以列形式存储在内存和磁盘上。 获得一种格式的优点意味着就要丢失备用格式的优点。 应用程序可以实现快速分析或快速事务，但不是两者同时具备。 混合使用数据库的性能问题不能通过以单一格式存储数据来解决。
